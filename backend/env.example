# TaktMate Environment Configuration Template
# Copy this file to .env and fill in your actual values

# =============================================================================
# Azure AD B2C Configuration
# =============================================================================

# Azure AD B2C Tenant Information
AZURE_AD_B2C_TENANT_NAME=taktmate
AZURE_AD_B2C_TENANT_ID=your-tenant-id-guid-here
AZURE_AD_B2C_DOMAIN=taktmate.b2clogin.com

# Application Registration Details (from Azure AD B2C App Registration)
AZURE_AD_B2C_CLIENT_ID=your-client-id-here
AZURE_AD_B2C_CLIENT_SECRET=your-client-secret-here

# User Flows/Policies
AZURE_AD_B2C_SIGN_UP_SIGN_IN_POLICY=B2C_1_signupsignin1
AZURE_AD_B2C_PASSWORD_RESET_POLICY=B2C_1_passwordreset1
AZURE_AD_B2C_PROFILE_EDIT_POLICY=B2C_1_profileedit1

# Custom Policies (Optional - set to true to use custom policies instead of user flows)
AZURE_AD_B2C_USE_CUSTOM_POLICIES=false
AZURE_AD_B2C_CUSTOM_POLICY_SIGNUP_SIGNIN=B2C_1A_TaktMate_SignUpOrSignIn
AZURE_AD_B2C_CUSTOM_POLICY_PASSWORD_RESET=B2C_1A_TaktMate_PasswordReset
AZURE_AD_B2C_CUSTOM_POLICY_PROFILE_EDIT=B2C_1A_TaktMate_ProfileEdit

# Token and Scope Configuration
AZURE_AD_B2C_SCOPE=openid profile email

# Redirect URLs (Environment-specific)
# Development
AZURE_AD_B2C_REDIRECT_URI=http://localhost:3000/auth/callback
AZURE_AD_B2C_POST_LOGOUT_REDIRECT_URI=http://localhost:3000

# Production (uncomment and update for production)
# AZURE_AD_B2C_REDIRECT_URI=https://app.taktconnect.com/auth/callback
# AZURE_AD_B2C_POST_LOGOUT_REDIRECT_URI=https://app.taktconnect.com

# =============================================================================
# Application URLs
# =============================================================================

# Frontend URL (where React app is hosted)
FRONTEND_URL=http://localhost:3000

# Backend URL (where Express API is hosted)
BACKEND_URL=http://localhost:3001

# =============================================================================
# Azure OpenAI Configuration
# =============================================================================

# Azure OpenAI Service Configuration
AZURE_OPENAI_API_KEY=your-azure-openai-api-key
AZURE_OPENAI_ENDPOINT=https://your-resource-name.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# =============================================================================
# Security Configuration
# =============================================================================

# JWT Secret for additional token signing (if needed)
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Session Configuration
SESSION_SECRET=your-session-secret-change-in-production

# Cookie Encryption (for Azure AD B2C passport strategy)
COOKIE_ENCRYPTION_KEY=your-32-character-encryption-key-here
COOKIE_ENCRYPTION_IV=your-16-character-iv-here

# =============================================================================
# Azure Application Insights (Task 3.0)
# =============================================================================

# Application Insights Configuration (will be added in Task 3.0)
# APPINSIGHTS_INSTRUMENTATIONKEY=your-instrumentation-key
# APPINSIGHTS_CONNECTION_STRING=your-connection-string

# =============================================================================
# Email Service Configuration (External Provider)
# =============================================================================

# SendGrid Configuration (recommended)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@taktconnect.com
SENDGRID_FROM_NAME=TaktMate

# Alternative: SMTP Configuration
# EMAIL_SERVICE=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# =============================================================================
# Azure Key Vault Configuration (Production)
# =============================================================================

# Azure Key Vault (for production secret management)
# AZURE_KEY_VAULT_URL=https://your-keyvault-name.vault.azure.net/
# AZURE_CLIENT_ID=your-service-principal-client-id
# AZURE_CLIENT_SECRET=your-service-principal-secret
# AZURE_TENANT_ID=your-azure-tenant-id

# =============================================================================
# Development/Debug Configuration
# =============================================================================

# Environment
NODE_ENV=development

# Logging Level
LOG_LEVEL=debug

# Enable Debug Logging for Azure AD B2C
# DEBUG=passport:*

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# Production-Only Configuration
# =============================================================================

# Port Configuration (usually set by hosting platform)
PORT=3001

# SSL/TLS Configuration (for production)
# FORCE_HTTPS=true

# Rate Limiting
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# OAuth Provider Configuration (for Azure AD B2C Identity Providers)
# =============================================================================

# Google OAuth (for Azure AD B2C Google Identity Provider)
# These are configured in Google Cloud Console and then added to Azure AD B2C
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft OAuth (for Azure AD B2C Microsoft Identity Provider)  
# These are configured in Azure AD App Registration and then added to Azure AD B2C
# MICROSOFT_CLIENT_ID=your-microsoft-client-id
# MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# =============================================================================
# Database Configuration (Not needed with Azure AD B2C)
# =============================================================================

# Note: With Azure AD B2C handling user management, we don't need a database
# for user accounts. Uncomment below only if you need application-specific data storage.

# Azure SQL Database Configuration
# DB_SERVER=your-server-name.database.windows.net
# DB_DATABASE=taktmate
# DB_USERNAME=your-username
# DB_PASSWORD=your-password
# DB_PORT=1433
# DB_ENCRYPT=true
# DB_TRUST_SERVER_CERTIFICATE=false

# =============================================================================
# File Storage Configuration (Future Enhancement)
# =============================================================================

# Azure Blob Storage (for future file persistence)
# AZURE_STORAGE_ACCOUNT_NAME=your-storage-account
# AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
# AZURE_STORAGE_CONTAINER_NAME=taktmate-files

# =============================================================================
# Instructions
# =============================================================================

# 1. Copy this file to .env in the same directory
# 2. Fill in your actual values (remove "your-" prefixes)
# 3. Never commit .env file to version control
# 4. For production, use Azure Key Vault or App Service Configuration
# 5. See AZURE_AD_B2C_SETUP.md for detailed setup instructions
